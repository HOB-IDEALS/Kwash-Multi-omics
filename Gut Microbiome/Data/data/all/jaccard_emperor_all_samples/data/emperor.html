<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Jaccard PCoA plot</title>
    <!-- core dependencies that are otherwise included via the jupyter notebook -->
    <script src="./vendor/js/require-2.1.22.min.js"></script>
    <script src="./vendor/js/jquery-2.1.4.min.js"></script>
    <meta charset="utf-8">

    <script type="text/javascript">

if ($("#emperor-css").length == 0){{
    $("head").append([

        '<link id="emperor-css" rel="stylesheet" type="text/css" href="./css/emperor.css">',
        '<link rel="stylesheet" type="text/css" href="./vendor/css/jquery-ui.min.css">',
        '<link rel="stylesheet" type="text/css" href="./vendor/css/slick.grid.min.css">',
        '<link rel="stylesheet" type="text/css" href="./vendor/css/spectrum.min.css">',
        '<link rel="stylesheet" type="text/css" href="./vendor/css/chosen.min.css">',
        '<link rel="stylesheet" type="text/css" href="./vendor/css/jquery.contextMenu.min.css">'
    ]);
}}
</script>


    <style>
      #emperor-notebook-0xc8816d98 {
        height:100vh !important;
        padding: 0px !important;
      }
      body {
        margin: 0;
        padding: 0;
        border: 0;
        outline: 0;
      }
    </style>
  </head>
  <body>
    <div id='emperor-notebook-0xc8816d98' style="position: relative; width:100%; height:500px;">
  <div class='loading' style="position: absolute;top: 50%;left: 50%;margin-left: -229px; margin-top: -59px; z-index: 10000;height:118px;width:458px;padding:0px"><img src='./img/emperor.png' alt='Emperor resources missing. Expected them to be found in .'></div>
</div>
</div>

<script type="text/javascript">
// When running in the Jupyter notebook we've encountered version conflicts
// with some dependencies. So instead of polluting the global require context,
// we define a new context.
var emperorRequire = require.config({
'context': 'emperor',
// the left side is the module name, and the right side is the path
// relative to the baseUrl attribute, do NOT include the .js extension
'paths': {
  /* jQuery */
  'jquery': './vendor/js/jquery-2.1.4.min',
  'jqueryui': './vendor/js/jquery-ui.min',
  'jquery_drag': './vendor/js/jquery.event.drag-2.2.min',

  /* jQuery plugins */
  'chosen': './vendor/js/chosen.jquery.min',
  'spectrum': './vendor/js/spectrum.min',
  'position': './vendor/js/jquery.ui.position.min',
  'contextmenu': './vendor/js/jquery.contextMenu.min',

  /* other libraries */
  'underscore': './vendor/js/underscore-min',
  'chroma': './vendor/js/chroma.min',
  'filesaver': './vendor/js/FileSaver.min',
  'blob': './vendor/js/Blob',
  'canvastoblob': './vendor/js/canvas-toBlob',
  'd3': './vendor/js/d3.min',

  /* THREE.js and plugins */
  'three': './vendor/js/three.min',
  'orbitcontrols': './vendor/js/three.js-plugins/OrbitControls',
  'projector': './vendor/js/three.js-plugins/Projector',
  'svgrenderer': './vendor/js/three.js-plugins/SVGRenderer',
  'canvasrenderer': './vendor/js/three.js-plugins/CanvasRenderer',

  /* SlickGrid */
  'slickcore': './vendor/js/slick.core.min',
  'slickgrid': './vendor/js/slick.grid.min',
  'slickformatters': './vendor/js/slick.editors.min',
  'slickeditors': './vendor/js/slick.formatters.min',
  'slickdataview': './vendor/js/slick.dataview.min',

  /* Emperor's objects */
  'util': './js/util',
  'model': './js/model',
  'multi-model': './js/multi-model',
  'view': './js/view',
  'controller': './js/controller',
  'draw': './js/draw',
  'scene3d': './js/sceneplotview3d',
  'shapes': './js/shapes',
  'animationdirector': './js/animate',
  'trajectory': './js/trajectory',
  'uistate': './js/ui-state',

  /* controllers */
  'abcviewcontroller': './js/abc-view-controller',
  'viewcontroller': './js/view-controller',
  'colorviewcontroller': './js/color-view-controller',
  'visibilitycontroller': './js/visibility-controller',
  'opacityviewcontroller': './js/opacity-view-controller',
  'scaleviewcontroller': './js/scale-view-controller',
  'shapecontroller': './js/shape-controller',
  'axescontroller': './js/axes-controller',
  'animationscontroller': './js/animations-controller',

  /* editors */
  'shape-editor': './js/shape-editor',
  'color-editor': './js/color-editor',
  'scale-editor': './js/scale-editor'

},
/*
   Libraries that are not AMD compatible need shim to declare their
   dependencies.
 */
'shim': {
  'jquery_drag': {
    'deps': ['jquery', 'jqueryui']
  },
  'chosen': {
    'deps': ['jquery'],
    'exports': 'jQuery.fn.chosen'
  },
  'contextmenu' : {
    'deps': ['jquery', 'jqueryui', 'position']
  },
  'filesaver' : {
    'deps': ['blob']
  },
  'canvastoblob' : {
    'deps': ['blob']
  },
  'slickcore': ['jqueryui'],
  'slickgrid': ['slickcore', 'jquery_drag', 'slickformatters', 'slickeditors',
                'slickdataview']
}
});

emperorRequire(
["jquery", "model", "controller"],
function($, model, EmperorController) {
  var DecompositionModel = model.DecompositionModel;

  var div = $('#emperor-notebook-0xc8816d98');

  var data = {"plot": {"decomposition": {"axes_names": [0, 1, 2, 3, 4], "ci": null, "coordinates": [[-0.7312928702065573, -0.3341053172979865, -0.14255540860844285, -0.08217271848293649, -0.09446359187001911], [-0.31750893516339834, -0.8351138558827041, 0.2134149464317913, 0.1597796788825144, -0.2863855699595548], [-0.5001480647521501, -0.14568849516515325, 0.25192292830820323, -0.22078557048423017, 0.16234517914669444], [-0.7936014010194951, -0.8335464257279717, -0.23705182468947003, -0.3181494335923025, 0.09614282407374752], [0.6330997981408697, -0.2829282533647977, 0.1540410447067542, 0.03685365123430245, -0.269225164265552], [-0.7779084281484716, 0.04368295481870508, -0.08810624572295087, -0.18501208543631278, 0.09168121776999329], [-0.7334363206667741, -0.1672802746943014, -0.606088445417401, -0.10345976559338746, 0.2744866646325253], [0.43393184044611094, 0.02983392599421436, 0.08353416002791628, -0.5170990424937482, -0.17624198543339586], [0.3347950674507631, -0.08151770511778743, -0.06614228666452608, 0.2198564439655181, -0.29446605199303394], [-0.35247578249499184, 0.3373342506800217, -0.3775880802420284, -0.28871517424175624, -0.12592489610883634], [-0.20912356667709556, 0.48066992461310887, 0.007317861714660848, -0.6037382999392085, 0.2558074860365056], [0.5741520345938288, -0.16661443656312575, 0.12579825044230034, 0.1327759661148556, 0.0853796003124653], [0.7611421669166436, -0.026480225586497763, -0.1014757691837624, -0.13107997949338884, 0.2941519806266294], [-0.7659249363405928, -0.538969926938781, -0.3537054725483272, -0.1552914265977531, 0.065012153616034], [-0.1320077413688875, 0.48142634338143453, 0.4824800720763236, -0.6753073809350505, -0.04292482542674135], [0.7148709285000353, -0.2660387742445879, -0.3065709790764402, 0.24754459160744824, -0.0358967286833179], [-0.7775370372066481, -0.17270878252882851, -0.45263565180810533, -0.11948527596549488, 0.32477805363265827], [0.04056834153851767, 0.25636217564715985, 0.4263499741708777, -0.4086696451088058, -0.19463492960970682], [0.2836288880230707, 0.2984354157430284, -0.18957263300581612, -0.05894323682675675, 0.6038533504545773], [-0.1681374651046208, 0.2967580909128137, 0.639347576805774, -0.0030642173461959787, 0.16388229531033643], [-0.5667897180085999, 0.6736577244534484, -0.009552924920176583, 0.37776033489815614, -0.4707293609275465], [-0.09637529434309323, 0.12735251858233984, 0.7975407712127232, -0.09875239312244448, 0.07618238564255994], [0.027469038017759035, 0.26593605083977456, 0.04590900649352697, 0.19179018990222507, 0.8652657486318012], [0.6044686100835414, 0.1333840639545218, -0.42046725749082775, -0.3304810901624215, 0.04812379326235941], [-0.010160015397890009, -0.9755991228083785, 0.2636733404028921, 0.10522496802916335, -0.061548984947320605], [0.7046564134290523, 0.045642100359710475, -0.2728552698140003, 0.12766213482391847, 0.10829831709064712], [0.15833436098621934, 0.29131342549209893, 0.07934278113680684, 0.09957672123520697, 0.5577805633754322], [0.2510178824190075, -0.2386295036290794, 0.11386494025081217, 0.40580054658377734, -0.08682632136449256], [0.019299141165198465, 0.36665392817983766, -0.13299698640682295, -0.3256343558437811, 0.21200317966137358], [0.37331175187671134, 0.04483633251450165, 0.14070023949212399, 0.4522062091653081, 0.7253444020888336], [0.7775033500023163, -0.13034593875804026, -0.10311009278932605, -0.13112220247804143, -0.3905746376294496], [-0.5979296187455474, 0.48635614383603265, -0.49051773352630634, 0.7760994376803275, -0.04944076680168921], [0.21195369941544945, 0.08387395665622267, 0.006559306415252844, -0.6423876550762547, -0.2989816029047927], [0.4709869119893843, -0.3893107211330043, 0.07718987558387938, 0.20169796738781598, -0.07071511011682811], [0.4512876298553264, 0.3422789504407993, -0.5473277329633423, -0.38211733558739364, -0.7701340574560934], [-0.06356206129247742, 0.0723387424095767, 1.0, 0.3000086460412934, -0.21737696076548724], [-0.6051606949129648, 0.5321320922694364, -0.23965228294368718, 0.7806550411148381, -0.2788078205496758], [0.5146488167146268, 0.21240583625624224, -0.6413343456799154, 0.4235362291726778, -0.30493413205187236], [0.701839721463329, -0.20926364801452854, -0.19246461131693324, 0.010454581909355387, -0.04243652576272537], [0.38799149886189876, -0.2943900523197753, 0.33868640851113196, 0.35338741916599903, 0.27900140597593753], [-0.42659724917781255, 0.37769261387526626, 0.5645914729202142, 0.3419015394052599, -0.4314310214778324], [-0.8052806908615859, -0.1918261021349691, 0.15950707771464734, 0.03689598648771161, -0.2954195552351517]], "edges": [], "percents_explained": [9.434478368283509, 4.910807868601725, 4.692405341061767, 4.121111626433037, 3.7094127028345496], "sample_ids": ["1", "10", "11", "12", "13", "14", "15", "16", "17", "18", "19", "2", "20", "22", "23", "24", "25", "26", "27", "28", "29", "3", "30", "31", "32", "33", "34", "35", "36", "37", "38", "39", "4", "40", "41", "42", "43", "5", "6", "7", "8", "9"]}, "metadata": [["1", "M-023-G", "8.0", "23", "Marasmus", "13/11/2018", "1.0", "6-23m", "M", "Jaune", "109.0"], ["10", "M-008-G", "3.0", "8", "Marasmus", "13/11/2018", "1.0", "6-23m", "M", "Rouge", "113.0"], ["11", "K-007-G", "3.0", "7", "Kwashiorkor", "27/09/2018", "1.0", "6-23m", "M", "Rouge", "118.0"], ["12", "N-054-G", "18.0", "54", "Non-malnourished", "15/11/2018", "1.0", "6-23m", "F", "Vert", "81.0"], ["13", "N-030-G", "10.0", "30", "Non-malnourished", "16/11/2018", "1.0", "6-23m", "M", "Jaune", "126.0"], ["14", "N-033-G", "11.0", "33", "Non-malnourished", "19/11/2018", "1.0", "6-23m", "M", "Jaune", "130.0"], ["15", "M-R02-G", "24.0", "R02", "Marasmus", "29/11/2018", "1.0", "6-23m", "F", "Jaune", "109.0"], ["16", "K-091-G", "31.0", "91", "Kwashiorkor", "24/12/2018", "2.0", "24-59 m", "M", "Jaune", "131.0"], ["17", "N-084-G", "28.0", "84", "Non-malnourished", "02/01/2019", "2.0", "24-59 m", "M", "Jaune", "64.0"], ["18", "K-106-G", "36.0", "106", "Kwashiorkor", "21/01/2019", "1.0", "6-23m", "M", "Vert", "185.0"], ["19", "K-124-G", "42.0", "124", "Kwashiorkor", "21/02/2019", "1.0", "6-23m", "M", "Vert", "137.0"], ["2", "K-013-G", "5.0", "13", "Kwashiorkor", "02/10/2018", "1.0", "6-23m", "F", "Jaune", "67.0"], ["20", "N-123-G", "41.0", "123", "Non-malnourished", "25/02/2019", "1.0", "6-23m", "M", "Vert", "115.0"], ["22", "M-050-G", "17.0", "50", "Marasmus", "14/03/2019", "1.0", "6-23m", "M", "Jaune", "144.0"], ["23", "K-133-G", "45.0", "133", "Kwashiorkor", "18/04/2019", "2.0", "24-59 m", "F", "Vert", "132.0"], ["24", "N-135-G", "45.0", "135", "Non-malnourished", "19/04/2019", "2.0", "24-59 m", "F", "Vert", "125.0"], ["25", "N-R21-G", "3.0", "R21", "Non-malnourished", "02/05/2019", "1.0", "6-23m", "M", "Rouge", "213.0"], ["26", "K-139-G", "47.0", "139", "Kwashiorkor", "02/05/2019", "2.0", "24-59 m", "M", "Jaune", "155.0"], ["27", "M-143-G", "48.0", "143", "Marasmus", "06/06/2019", "2.0", "24-59 m", "F", "Vert", "119.0"], ["28", "K-148-G", "50.0", "148", "Kwashiorkor", "15/07/2019", "1.0", "6-23m", "M", "Vert", "105.0"], ["29", "M-149-G", "50.0", "149", "Marasmus", "16/07/2019", "1.0", "6-23m", "M", "Vert", "145.0"], ["3", "K-016-G", "6.0", "16", "Kwashiorkor", "03/10/2018", "2.0", "24-59 m", "M", "Jaune", "87.0"], ["30", "K-151-G", "51.0", "151", "Kwashiorkor", "18/07/2019", "2.0", "24-59 m", "F", "Vert", "112.0"], ["31", "N-153-G", "51.0", "153", "Non-malnourished", "26/07/2019", "2.0", "24-59 m", "F", "Vert", "127.0"], ["32", "M-161-G", "54.0", "161", "Marasmus", "29/07/2019", "1.0", "6-23m", "F", "Vert", "132.0"], ["33", "N-159-G", "53.0", "159", "Non-malnourished", "30/07/2019", "2.0", "24-59 m", "M", "Vert", "92.0"], ["34", "K-172-G", "58.0", "172", "Kwashiorkor", "08/08/2019", "1.0", "6-23m", "F", "Jaune", "117.0"], ["35", "N-117-G", "39.0", "117", "Non-malnourished", "11/09/2019", "2.0", "24-59 m", "M", "Jaune", "97.0"], ["36", "M-083-G", "28.0", "83", "Marasmus", "27/09/2019", "2.0", "24-59 m", "M", "Jaune", "114.0"], ["37", "M-140-G", "47.0", "140", "Marasmus", "02/10/2019", "2.0", "24-59 m", "M", "Jaune", "117.0"], ["38", "M-188-G", "63.0", "188", "Marasmus", "03/10/2019", "2.0", "24-59 m", "F", "Jaune", "117.0"], ["39", "M-185-G", "62.0", "185", "Marasmus", "03/10/2019", "2.0", "24-59 m", "M", "Jaune", "242.0"], ["4", "N-018-G", "6.0", "18", "Non-malnourished", "08/10/2018", "2.0", "24-59 m", "M", "Jaune", "94.0"], ["40", "K-202-G", "68.0", "202", "Kwashiorkor", "07/10/2019", "1.0", "6-23m", "F", "Vert", "143.0"], ["41", "N-R27-G", "16.0", "R27", "Non-malnourished", "28/10/2019", "2.0", "24-59 m", "M", "Jaune", "210.0"], ["42", "N-R29-G", "11.0", "R29", "Non-malnourished", "30/10/2019", "1.0", "6-23m", "M", "Jaune", "129.0"], ["43", "N-R28-G", "10.0", "R28", "Non-malnourished", "30/10/2019", "1.0", "6-23m", "M", "Jaune", "197.0"], ["5", "M-017-G", "6.0", "17", "Marasmus", "09/10/2018", "2.0", "24-59 m", "M", "Jaune", "108.0"], ["6", "M-020-G", "7.0", "20", "Marasmus", "17/10/2018", "1.0", "6-23m", "F", "Vert", "114.0"], ["7", "K-028-G", "10.0", "28", "Kwashiorkor", "24/10/2018", "1.0", "6-23m", "M", "Jaune", "101.0"], ["8", "K-055-G", "19.0", "55", "Kwashiorkor", "07/11/2018", "2.0", "24-59 m", "M", "Jaune", "109.0"], ["9", "K-049-G", "17.0", "49", "Kwashiorkor", "07/11/2018", "1.0", "6-23m", "M", "Jaune", "106.0"]], "metadata_headers": ["SampleID", "sample_code", "match_id", "subject_id", "group", "recruit_date", "age_group", "age", "sex", "triage", "sample_weight_mg"], "settings": {}, "type": "scatter"}};

  var plot, biplot = null, ec;

  function init() {
    // Initialize the DecompositionModel for the scatter plot, and optionally
    // add one for the biplot arrows
    plot = new DecompositionModel(data.plot.decomposition,
                                  data.plot.metadata_headers,
                                  data.plot.metadata,
                                  data.plot.type);

    if (data.biplot) {
      biplot = new DecompositionModel(data.biplot.decomposition,
                                      data.biplot.metadata_headers,
                                      data.biplot.metadata,
                                      data.biplot.type);
    }

    ec = new EmperorController(plot, biplot, "emperor-notebook-0xc8816d98");
  }

  function animate() {
    requestAnimationFrame(animate);
    ec.render();
  }
  $(window).resize(function() {
    ec.resize(div.innerWidth(), div.innerHeight());
  });

  $(function(){
    init();
    animate();

    ec.ready = function () {
      // any other code that needs to be executed when emperor is loaded should
      // go here
      ec.loadConfig(data.plot.settings);
    }
  });

}); // END REQUIRE.JS block
</script>
  </body>
</html>