<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Unweighted UniFrac PCoA plot</title>
    <!-- core dependencies that are otherwise included via the jupyter notebook -->
    <script src="./vendor/js/require-2.1.22.min.js"></script>
    <script src="./vendor/js/jquery-2.1.4.min.js"></script>
    <meta charset="utf-8">

    <script type="text/javascript">

if ($("#emperor-css").length == 0){{
    $("head").append([

        '<link id="emperor-css" rel="stylesheet" type="text/css" href="./css/emperor.css">',
        '<link rel="stylesheet" type="text/css" href="./vendor/css/jquery-ui.min.css">',
        '<link rel="stylesheet" type="text/css" href="./vendor/css/slick.grid.min.css">',
        '<link rel="stylesheet" type="text/css" href="./vendor/css/spectrum.min.css">',
        '<link rel="stylesheet" type="text/css" href="./vendor/css/chosen.min.css">',
        '<link rel="stylesheet" type="text/css" href="./vendor/css/jquery.contextMenu.min.css">'
    ]);
}}
</script>


    <style>
      #emperor-notebook-0xe2c700fc {
        height:100vh !important;
        padding: 0px !important;
      }
      body {
        margin: 0;
        padding: 0;
        border: 0;
        outline: 0;
      }
    </style>
  </head>
  <body>
    <div id='emperor-notebook-0xe2c700fc' style="position: relative; width:100%; height:500px;">
  <div class='loading' style="position: absolute;top: 50%;left: 50%;margin-left: -229px; margin-top: -59px; z-index: 10000;height:118px;width:458px;padding:0px"><img src='./img/emperor.png' alt='Emperor resources missing. Expected them to be found in .'></div>
</div>
</div>

<script type="text/javascript">
// When running in the Jupyter notebook we've encountered version conflicts
// with some dependencies. So instead of polluting the global require context,
// we define a new context.
var emperorRequire = require.config({
'context': 'emperor',
// the left side is the module name, and the right side is the path
// relative to the baseUrl attribute, do NOT include the .js extension
'paths': {
  /* jQuery */
  'jquery': './vendor/js/jquery-2.1.4.min',
  'jqueryui': './vendor/js/jquery-ui.min',
  'jquery_drag': './vendor/js/jquery.event.drag-2.2.min',

  /* jQuery plugins */
  'chosen': './vendor/js/chosen.jquery.min',
  'spectrum': './vendor/js/spectrum.min',
  'position': './vendor/js/jquery.ui.position.min',
  'contextmenu': './vendor/js/jquery.contextMenu.min',

  /* other libraries */
  'underscore': './vendor/js/underscore-min',
  'chroma': './vendor/js/chroma.min',
  'filesaver': './vendor/js/FileSaver.min',
  'blob': './vendor/js/Blob',
  'canvastoblob': './vendor/js/canvas-toBlob',
  'd3': './vendor/js/d3.min',

  /* THREE.js and plugins */
  'three': './vendor/js/three.min',
  'orbitcontrols': './vendor/js/three.js-plugins/OrbitControls',
  'projector': './vendor/js/three.js-plugins/Projector',
  'svgrenderer': './vendor/js/three.js-plugins/SVGRenderer',
  'canvasrenderer': './vendor/js/three.js-plugins/CanvasRenderer',

  /* SlickGrid */
  'slickcore': './vendor/js/slick.core.min',
  'slickgrid': './vendor/js/slick.grid.min',
  'slickformatters': './vendor/js/slick.editors.min',
  'slickeditors': './vendor/js/slick.formatters.min',
  'slickdataview': './vendor/js/slick.dataview.min',

  /* Emperor's objects */
  'util': './js/util',
  'model': './js/model',
  'multi-model': './js/multi-model',
  'view': './js/view',
  'controller': './js/controller',
  'draw': './js/draw',
  'scene3d': './js/sceneplotview3d',
  'shapes': './js/shapes',
  'animationdirector': './js/animate',
  'trajectory': './js/trajectory',
  'uistate': './js/ui-state',

  /* controllers */
  'abcviewcontroller': './js/abc-view-controller',
  'viewcontroller': './js/view-controller',
  'colorviewcontroller': './js/color-view-controller',
  'visibilitycontroller': './js/visibility-controller',
  'opacityviewcontroller': './js/opacity-view-controller',
  'scaleviewcontroller': './js/scale-view-controller',
  'shapecontroller': './js/shape-controller',
  'axescontroller': './js/axes-controller',
  'animationscontroller': './js/animations-controller',

  /* editors */
  'shape-editor': './js/shape-editor',
  'color-editor': './js/color-editor',
  'scale-editor': './js/scale-editor'

},
/*
   Libraries that are not AMD compatible need shim to declare their
   dependencies.
 */
'shim': {
  'jquery_drag': {
    'deps': ['jquery', 'jqueryui']
  },
  'chosen': {
    'deps': ['jquery'],
    'exports': 'jQuery.fn.chosen'
  },
  'contextmenu' : {
    'deps': ['jquery', 'jqueryui', 'position']
  },
  'filesaver' : {
    'deps': ['blob']
  },
  'canvastoblob' : {
    'deps': ['blob']
  },
  'slickcore': ['jqueryui'],
  'slickgrid': ['slickcore', 'jquery_drag', 'slickformatters', 'slickeditors',
                'slickdataview']
}
});

emperorRequire(
["jquery", "model", "controller"],
function($, model, EmperorController) {
  var DecompositionModel = model.DecompositionModel;

  var div = $('#emperor-notebook-0xe2c700fc');

  var data = {"plot": {"decomposition": {"axes_names": [0, 1, 2, 3, 4], "ci": null, "coordinates": [[-0.971014475576625, 0.12481392592512176, -0.14166531097793283, -0.23471160825292528, -0.10265605296955106], [-0.45689151336824074, -0.1682721805274151, -0.2082810446619967, 0.36417162264483083, -0.00842190816662439], [-0.31056144449342216, -0.13376123811879537, -0.11883245804191438, 0.29169246570105933, 0.021210965857237765], [-0.5762875160399976, -0.14557285795688255, -0.1614240249066127, 0.2666788000787496, 0.001467688170915739], [0.4574217193503324, 0.18685711470764155, -0.19327933742694592, -0.1338258743507256, 0.058998551436260545], [-0.5853053889578788, -0.2014882880891914, 0.010350560876244735, 0.05235605306286539, -0.09573499789585156], [-0.9450026705598537, 0.059063505660360734, -0.14766384502814744, -0.21228879648588006, -0.14254718091066448], [0.3190836805653604, -0.2752473009517196, 0.09384992415059334, -0.02809882592123853, -0.06085029799100425], [0.3761819197524591, 0.37488434416447936, -0.10488268108183442, -0.17601146678280905, 0.23952884590612822], [-0.18814123677672537, -0.4746622517976354, 0.2988159015800354, -0.00027347642171319126, -0.03368363876580929], [0.1832449105363896, -0.5726131271888033, 0.2436803778969367, 0.04076002579239097, -0.08636945799191234], [0.5680940243704776, 0.4041456359052141, -0.11834322148885776, -0.35330974647111213, 0.06570518531975791], [0.4729911148374677, 0.0015878576177697293, -0.12511722084042715, -0.08359924569667122, -0.08493546128671958], [-0.5316639541673315, 0.009200550488372108, 0.3343639647059715, -0.3821575269379933, 0.36342272098501777], [0.20977251685462675, -0.536477881780254, 0.37630817573484904, 0.017947096403903167, -0.09296343697020823], [0.3774657914382396, 0.1245089070906219, -0.22490094264792354, -0.07938296289775118, 0.07281875466885195], [-0.9392481131398478, 0.14346907713995546, -0.03984095760388331, -0.32184260757278027, -0.005316832977318076], [0.2326260789870333, -0.4429530192715949, 0.21810284746644676, 0.005030798498701615, -0.08599114676057087], [0.5008056318680242, 0.1819074044825012, -0.16449271403778723, -0.21167234714386393, -0.07057966434413288], [0.15490638577874186, -0.439029131955118, 0.1011294037677055, 0.06183390452604132, -0.19414678535363017], [-0.18969892273468164, 0.08357949779539556, 0.7638509581072134, 0.015007235761689892, 0.9972592645122432], [0.21271489338193741, -0.1840894559141721, -0.06951115092399386, 0.2345630007039475, -0.0571765384027529], [-0.05351609144710643, -0.00673147245961385, -0.27908899583528696, 0.32781265526456427, 0.016421087696219812], [0.5366025248067137, 0.1054997194448475, 0.012132778763840866, -0.4028863051366862, -0.10151180891809465], [-0.22483513596232604, 0.1380363245353821, -0.3185869934868485, 0.43583786801857083, 0.22887697302425078], [0.41766642452133795, 0.6562040065078691, 0.5092116009938303, 0.08920814655628831, -0.4931213822174637], [0.31916910517831326, -0.14451755330568306, -0.06671679906488076, 0.05848674344501133, -0.09823306668277167], [0.28693996163522745, 0.25658932136095175, -0.20988217986578558, 0.06885389688285089, 0.16794312381028753], [0.0690252283184479, -0.4460092238003328, 0.1897218996609493, -0.07928577109387566, -0.05009235844433982], [0.31216373846489753, 0.18616249774660762, -0.14989678962602257, 0.205588643095072, 0.1611056043429962], [0.5116929238774554, -0.09504782694716606, 0.08602807714189996, -0.18539451705528093, -0.12891403879059035], [-0.9830129664818934, 0.256367661143971, -0.025880652761715434, -0.3439068420939198, -0.0430202903774972], [0.35941115915364913, -0.30218194395265885, 0.08606170147506743, -0.13956016046482597, 0.070657997888888], [0.2749133568839905, 0.05542881958472789, -0.23804387356951925, 0.0015939105535719856, 0.028201608795404485], [0.4818416762313904, -0.05727873288323981, 0.0480108718760771, -0.3581463138391915, 0.020237292359256108], [0.09229426358451832, 0.12569364615395046, -0.20649588408850864, 0.5794151211371628, 0.23729447769073536], [-0.5771259286946425, 0.04500555251842506, -0.08757631902389512, 0.0013838505866745278, -0.16841047439824852], [0.10303976357266989, 0.09431952954996173, -0.26023465562141684, 0.06641500166365583, 0.007942265960503453], [0.3874321049338361, 0.06628977425959588, -0.25162334712163914, -0.05676861437737679, -0.05296448183276123], [0.32772789440406014, 0.1385519871488595, -0.292158684865914, 0.20977287275881243, 0.04521295912088905], [-0.1436737911862432, 0.7525306784133218, 1.0, 0.49462756896304894, -0.3648067331503761], [-0.8692496437007813, 0.055236147554371236, -0.16719895959796807, -0.10591427310284489, -0.18185733194694784]], "edges": [], "percents_explained": [20.537278844984414, 7.470107695651953, 7.037108644984961, 5.195797998908238, 4.263766882413911], "sample_ids": ["1", "10", "11", "12", "13", "14", "15", "16", "17", "18", "19", "2", "20", "22", "23", "24", "25", "26", "27", "28", "29", "3", "30", "31", "32", "33", "34", "35", "36", "37", "38", "39", "4", "40", "41", "42", "43", "5", "6", "7", "8", "9"]}, "metadata": [["1", "M-023-G", "8.0", "23", "Marasmus", "13/11/2018", "1.0", "6-23m", "M", "Jaune", "109.0"], ["10", "M-008-G", "3.0", "8", "Marasmus", "13/11/2018", "1.0", "6-23m", "M", "Rouge", "113.0"], ["11", "K-007-G", "3.0", "7", "Kwashiorkor", "27/09/2018", "1.0", "6-23m", "M", "Rouge", "118.0"], ["12", "N-054-G", "18.0", "54", "Non-malnourished", "15/11/2018", "1.0", "6-23m", "F", "Vert", "81.0"], ["13", "N-030-G", "10.0", "30", "Non-malnourished", "16/11/2018", "1.0", "6-23m", "M", "Jaune", "126.0"], ["14", "N-033-G", "11.0", "33", "Non-malnourished", "19/11/2018", "1.0", "6-23m", "M", "Jaune", "130.0"], ["15", "M-R02-G", "24.0", "R02", "Marasmus", "29/11/2018", "1.0", "6-23m", "F", "Jaune", "109.0"], ["16", "K-091-G", "31.0", "91", "Kwashiorkor", "24/12/2018", "2.0", "24-59 m", "M", "Jaune", "131.0"], ["17", "N-084-G", "28.0", "84", "Non-malnourished", "02/01/2019", "2.0", "24-59 m", "M", "Jaune", "64.0"], ["18", "K-106-G", "36.0", "106", "Kwashiorkor", "21/01/2019", "1.0", "6-23m", "M", "Vert", "185.0"], ["19", "K-124-G", "42.0", "124", "Kwashiorkor", "21/02/2019", "1.0", "6-23m", "M", "Vert", "137.0"], ["2", "K-013-G", "5.0", "13", "Kwashiorkor", "02/10/2018", "1.0", "6-23m", "F", "Jaune", "67.0"], ["20", "N-123-G", "41.0", "123", "Non-malnourished", "25/02/2019", "1.0", "6-23m", "M", "Vert", "115.0"], ["22", "M-050-G", "17.0", "50", "Marasmus", "14/03/2019", "1.0", "6-23m", "M", "Jaune", "144.0"], ["23", "K-133-G", "45.0", "133", "Kwashiorkor", "18/04/2019", "2.0", "24-59 m", "F", "Vert", "132.0"], ["24", "N-135-G", "45.0", "135", "Non-malnourished", "19/04/2019", "2.0", "24-59 m", "F", "Vert", "125.0"], ["25", "N-R21-G", "3.0", "R21", "Non-malnourished", "02/05/2019", "1.0", "6-23m", "M", "Rouge", "213.0"], ["26", "K-139-G", "47.0", "139", "Kwashiorkor", "02/05/2019", "2.0", "24-59 m", "M", "Jaune", "155.0"], ["27", "M-143-G", "48.0", "143", "Marasmus", "06/06/2019", "2.0", "24-59 m", "F", "Vert", "119.0"], ["28", "K-148-G", "50.0", "148", "Kwashiorkor", "15/07/2019", "1.0", "6-23m", "M", "Vert", "105.0"], ["29", "M-149-G", "50.0", "149", "Marasmus", "16/07/2019", "1.0", "6-23m", "M", "Vert", "145.0"], ["3", "K-016-G", "6.0", "16", "Kwashiorkor", "03/10/2018", "2.0", "24-59 m", "M", "Jaune", "87.0"], ["30", "K-151-G", "51.0", "151", "Kwashiorkor", "18/07/2019", "2.0", "24-59 m", "F", "Vert", "112.0"], ["31", "N-153-G", "51.0", "153", "Non-malnourished", "26/07/2019", "2.0", "24-59 m", "F", "Vert", "127.0"], ["32", "M-161-G", "54.0", "161", "Marasmus", "29/07/2019", "1.0", "6-23m", "F", "Vert", "132.0"], ["33", "N-159-G", "53.0", "159", "Non-malnourished", "30/07/2019", "2.0", "24-59 m", "M", "Vert", "92.0"], ["34", "K-172-G", "58.0", "172", "Kwashiorkor", "08/08/2019", "1.0", "6-23m", "F", "Jaune", "117.0"], ["35", "N-117-G", "39.0", "117", "Non-malnourished", "11/09/2019", "2.0", "24-59 m", "M", "Jaune", "97.0"], ["36", "M-083-G", "28.0", "83", "Marasmus", "27/09/2019", "2.0", "24-59 m", "M", "Jaune", "114.0"], ["37", "M-140-G", "47.0", "140", "Marasmus", "02/10/2019", "2.0", "24-59 m", "M", "Jaune", "117.0"], ["38", "M-188-G", "63.0", "188", "Marasmus", "03/10/2019", "2.0", "24-59 m", "F", "Jaune", "117.0"], ["39", "M-185-G", "62.0", "185", "Marasmus", "03/10/2019", "2.0", "24-59 m", "M", "Jaune", "242.0"], ["4", "N-018-G", "6.0", "18", "Non-malnourished", "08/10/2018", "2.0", "24-59 m", "M", "Jaune", "94.0"], ["40", "K-202-G", "68.0", "202", "Kwashiorkor", "07/10/2019", "1.0", "6-23m", "F", "Vert", "143.0"], ["41", "N-R27-G", "16.0", "R27", "Non-malnourished", "28/10/2019", "2.0", "24-59 m", "M", "Jaune", "210.0"], ["42", "N-R29-G", "11.0", "R29", "Non-malnourished", "30/10/2019", "1.0", "6-23m", "M", "Jaune", "129.0"], ["43", "N-R28-G", "10.0", "R28", "Non-malnourished", "30/10/2019", "1.0", "6-23m", "M", "Jaune", "197.0"], ["5", "M-017-G", "6.0", "17", "Marasmus", "09/10/2018", "2.0", "24-59 m", "M", "Jaune", "108.0"], ["6", "M-020-G", "7.0", "20", "Marasmus", "17/10/2018", "1.0", "6-23m", "F", "Vert", "114.0"], ["7", "K-028-G", "10.0", "28", "Kwashiorkor", "24/10/2018", "1.0", "6-23m", "M", "Jaune", "101.0"], ["8", "K-055-G", "19.0", "55", "Kwashiorkor", "07/11/2018", "2.0", "24-59 m", "M", "Jaune", "109.0"], ["9", "K-049-G", "17.0", "49", "Kwashiorkor", "07/11/2018", "1.0", "6-23m", "M", "Jaune", "106.0"]], "metadata_headers": ["SampleID", "sample_code", "match_id", "subject_id", "group", "recruit_date", "age_group", "age", "sex", "triage", "sample_weight_mg"], "settings": {}, "type": "scatter"}};

  var plot, biplot = null, ec;

  function init() {
    // Initialize the DecompositionModel for the scatter plot, and optionally
    // add one for the biplot arrows
    plot = new DecompositionModel(data.plot.decomposition,
                                  data.plot.metadata_headers,
                                  data.plot.metadata,
                                  data.plot.type);

    if (data.biplot) {
      biplot = new DecompositionModel(data.biplot.decomposition,
                                      data.biplot.metadata_headers,
                                      data.biplot.metadata,
                                      data.biplot.type);
    }

    ec = new EmperorController(plot, biplot, "emperor-notebook-0xe2c700fc");
  }

  function animate() {
    requestAnimationFrame(animate);
    ec.render();
  }
  $(window).resize(function() {
    ec.resize(div.innerWidth(), div.innerHeight());
  });

  $(function(){
    init();
    animate();

    ec.ready = function () {
      // any other code that needs to be executed when emperor is loaded should
      // go here
      ec.loadConfig(data.plot.settings);
    }
  });

}); // END REQUIRE.JS block
</script>
  </body>
</html>